[tasks.brew]
description = "Install homebrew packages from bundle file"
run = "HOMEBREW_NO_AUTO_UPDATE=1 brew bundle --no-upgrade --cleanup"

[tasks.all]
description = "Install/link packages"
depends = ["dotfiles"]
depends_post = ["brew", "cargo-install"]

[tasks.dotfiles]
description = "Install dotfiles"
run = "stow ."

[tasks.cargo-install]
description = "Install rust projects"
run = "mise exec rust -- cat cargo-projects.txt | xargs -I {} sh -c 'cargo install --locked {}'"

[tools]
shellcheck = "latest"
